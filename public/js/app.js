webpackJsonp([1],{165:function(e,t,n){var o=n(21)(n(166),n(274),!1,null,null,null);e.exports=o.exports},166:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(167),r=n.n(o),s=n(271),a=n.n(s),i=n(32);t.default={name:"CommentApp",components:{comment:r.a,"new-comment-form":a.a},props:{name:{type:String,default:"Application"}},data:function(){return{store:i.a}},created:function(){this.loadComments()},computed:{comments:function(){return this.store.comments}},methods:{loadComments:function(){var e=this;axios.get("/api/comments").then(function(t){e.store.comments=t.data.data})}}}},167:function(e,t,n){var o=n(21)(n(168),n(270),!1,null,null,null);e.exports=o.exports},168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(50),r=(n.n(o),n(32));t.default={name:"Comment",props:{comment:{type:Object,required:!0}},data:function(){return{show_children:!0,store:r.a}},computed:{getMarkdownComment:function(){return markdown.render(this.comment.comment)},postedDate:function(){return Object(o.distanceInWordsToNow)(Object(o.parse)(this.comment.created_at))}}}},21:function(e,t){e.exports=function(e,t,n,o,r,s){var a,i=e=e||{},c=typeof e.default;"object"!==c&&"function"!==c||(a=e,i=e.default);var m,l="function"==typeof i?i.options:i;if(t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0),n&&(l.functional=!0),r&&(l._scopeId=r),s?(m=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=m):o&&(m=o),m){var u=l.functional,d=u?l.render:l.beforeCreate;u?(l._injectStyles=m,l.render=function(e,t){return m.call(t),d(e,t)}):l.beforeCreate=d?[].concat(d,m):[m]}return{esModule:a,exports:i,options:l}}},270:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mt-4"},[n("v-card-title",{staticClass:"primary white--text pa-2",attrs:{"primary-title":""}},[n("span",{staticClass:"title"},[e._v("\n      "+e._s(e.comment.name)+"\n    ")]),e._v(" "),n("v-spacer"),e._v(" "),n("span",[e._v("\n      "+e._s(e.postedDate)+" ago\n    ")])],1),e._v(" "),n("v-card-text",{domProps:{innerHTML:e._s(e.getMarkdownComment)}}),e._v(" "),n("v-card-actions",[n("span",{staticClass:"ml-2",on:{click:function(t){t.preventDefault(),e.store.getComment(e.comment)}}},[n("a",{attrs:{href:"#"}},[e._v("Respond to this comment")])]),e._v(" "),n("v-spacer"),e._v(" "),e.comment.children.length?n("v-btn",{attrs:{icon:""},on:{click:function(t){e.show_children=!e.show_children}}},[n("v-icon",[e._v(e._s(e.show_children?"keyboard_arrow_up":"keyboard_arrow_down"))])],1):e._e()],1),e._v(" "),e.show_children?n("v-card-text",e._l(e.comment.children,function(e){return n("comment",{key:e.id,attrs:{comment:e}})})):e._e()],1)},staticRenderFns:[]}},271:function(e,t,n){var o=n(21)(n(272),n(273),!1,null,null,null);e.exports=o.exports},272:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(32),r=n(86);n.n(r);t.default={name:"NewCommentForm",data:function(){return{store:o.a,form:new r.Form({parent_id:null,name:null,comment:null})}},computed:{parent:function(){return this.store.active},parentId:function(){return this.store.active&&this.store.active.id},visible:{get:function(){return this.store.visible},set:function(e){this.form.reset(),this.$validator.reset(),this.store.visible=e}}},methods:{errorMessages:function(e){return this.errors.collect(e).concat(this.form.errors.only(e))},submit:function(){var e=this;this.form.parent_id=this.parentId,this.form.post("/api/comments").then(function(t){e.store.addComment(t.data.data),e.visible=!1})}}}},273:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":"500px",transition:"dialog-transition",persistent:""},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.visible=!1}},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e._t("default"),e._v(" "),n("v-card",[n("v-card-title",{staticClass:"title primary white--text pa-2",attrs:{"primary-title":""}},[e._v("\n      Please enter your comment below\n    ")]),e._v(" "),n("v-card-text",[n("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"name",label:"Your Name",id:"name","error-messages":e.errorMessages("name")},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),n("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",name:"comment",label:"Your Comment","error-messages":e.errorMessages("comment"),hint:"What do you have to say?"},model:{value:e.form.comment,callback:function(t){e.$set(e.form,"comment",t)},expression:"form.comment"}})],1),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"primary",loading:e.form.busy,active:!e.form.busy},on:{click:e.submit}},[e._v("\n        Submit\n      ")]),e._v(" "),n("v-btn",{attrs:{color:"secondary"},on:{click:function(t){e.visible=!1}}},[e._v("\n        Cancel\n      ")])],1)],1)],2)},staticRenderFns:[]}},274:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-toolbar",{attrs:{fixed:"",app:"",dark:"",color:"primary"}},[n("v-toolbar-title",{staticClass:"white--text"},[n("a",{staticStyle:{color:"inherit","text-decoration":"none"},attrs:{href:"/"}},[e._v("\n      "+e._s(e.name)+"\n    ")])]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{flat:""},on:{click:function(t){e.store.getComment(null)}}},[e._v("\n      Post a New Comment\n    ")])],1),e._v(" "),n("v-content",[n("new-comment-form"),e._v(" "),n("v-container",{attrs:{"fill-height":""}},[n("v-layout",{attrs:{"justify-center":""}},[n("v-flex",{attrs:{xs12:"",md10:"",lg8:"",xl6:""}},e._l(e.comments,function(e){return n("comment",{key:e.id,attrs:{comment:e}})}))],1)],1)],1)],1)},staticRenderFns:[]}},275:function(e,t){},32:function(e,t,n){"use strict";t.a={comments:[],map:{},active:null,visible:!1,getComment:function(e){this.active=e,this.visible=!0},addComment:function(e){if(0===Object.keys(this.map).length&&this.buildMap(this.comments),this.map[e.id]=e,0===e.parent_id)return this.comments.push(e);this.map[e.parent_id].children.push(e)},buildMap:function(e){for(var t=0;t<e.length;t++)this.map[e[t].id]=e[t],this.buildMap(e[t].children)}}},87:function(e,t,n){n(88),e.exports=n(275)},88:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(48),r=n.n(o),s=n(49);n(89),window.markdown=n(39)({breaks:!0,linkify:!0,typographer:!0}),window.Vue=n(20),Vue.use(r.a),Vue.use(s.default),Vue.component("comment-app",n(165));new Vue({el:"#app"})},89:function(e,t,n){window.axios=n(15),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var o=document.head.querySelector('meta[name="csrf-token"]');o?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=o.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token")}},[87]);